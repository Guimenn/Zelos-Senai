{
  "fluxo_completo": {
    "descricao": "Fluxo completo para criar um usuário (perfil criado automaticamente)",
    "etapas": [
      {
        "etapa": 1,
        "descricao": "Login como Admin (obter token)",
        "method": "POST",
        "url": "http://localhost:3000/login",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "email": "admin@helpdesk.com",
          "password": "123456"
        }
      },
      {
        "etapa": 2,
        "descricao": "Criar usuário Agent (perfil criado automaticamente)",
        "method": "POST",
        "url": "http://localhost:3000/user",
        "headers": {
          "Content-Type": "application/json",
          "Authorization": "Bearer SEU_TOKEN_AQUI"
        },
        "body": {
          "name": "João Silva",
          "email": "joao.silva@exemplo.com",
          "password": "senha123",
          "phone": "(11) 99999-9999",
          "role": "Agent"
        }
      }
    ]
  },
  "credenciais_padrao": {
    "admin": {
      "email": "admin@helpdesk.com",
      "password": "123456"
    },
    "agent": {
      "email": "joao@helpdesk.com",
      "password": "123456"
    },
    "client": {
      "email": "cliente1@empresa.com",
      "password": "123456"
    }
  },
  "exemplos_usuarios": [
    {
      "descricao": "Criar usuário Admin",
      "method": "POST",
      "url": "http://localhost:3000/user",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": {
        "name": "Admin Principal",
        "email": "admin@exemplo.com",
        "password": "admin123",
        "phone": "(11) 88888-8888",
        "role": "Admin"
      }
    },
    {
      "descricao": "Criar usuário Agent (perfil criado automaticamente)",
      "method": "POST",
      "url": "http://localhost:3000/user",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": {
        "name": "Maria Santos",
        "email": "maria.santos@exemplo.com",
        "password": "senha456",
        "phone": "(11) 77777-7777",
        "role": "Agent"
      }
    },
    {
      "descricao": "Criar usuário Client (perfil criado automaticamente)",
      "method": "POST",
      "url": "http://localhost:3000/user",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": {
        "name": "Pedro Oliveira",
        "email": "pedro.oliveira@exemplo.com",
        "password": "senha789",
        "phone": "(11) 66666-6666",
        "role": "Client"
      }
    }
  ],
  "perfis_automaticos": {
    "agent": {
      "employee_id": "EMP001 (gerado automaticamente)",
      "department": "Suporte Técnico (padrão)",
      "skills": "[] (vazio por padrão)",
      "max_tickets": "10 (padrão)"
    },
    "client": {
      "client_type": "Individual (padrão)",
      "company": "null (vazio por padrão)"
    }
  },
  "curl_exemplos": [
    {
      "descricao": "Login como Admin via curl",
      "command": "curl -X POST http://localhost:3000/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"email\": \"admin@helpdesk.com\",\n    \"password\": \"123456\"\n  }'"
    },
    {
      "descricao": "Criar usuário Agent via curl (perfil criado automaticamente)",
      "command": "curl -X POST http://localhost:3000/user \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"Maria Santos\",\n    \"email\": \"maria.santos@exemplo.com\",\n    \"password\": \"senha456\",\n    \"phone\": \"(11) 77777-7777\",\n    \"role\": \"Agent\"\n  }'"
    },
    {
      "descricao": "Criar usuário Client via curl (perfil criado automaticamente)",
      "command": "curl -X POST http://localhost:3000/user \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"Pedro Oliveira\",\n    \"email\": \"pedro.oliveira@exemplo.com\",\n    \"password\": \"senha789\",\n    \"phone\": \"(11) 66666-6666\",\n    \"role\": \"Client\"\n  }'"
    }
  ],
  "validation_rules": {
    "usuario": {
      "name": "Mínimo 3 caracteres",
      "email": "Formato de email válido (convertido para minúsculas)",
      "password": "String obrigatória",
      "phone": "Telefone (opcional)",
      "avatar": "URL do avatar (opcional)",
      "role": "Deve ser um dos valores: 'Admin', 'Agent', 'Client'"
    }
  },
  "autorizacao": {
    "criar_usuario": "Pode ser feito por qualquer Admin",
    "perfil_automatico": "Perfis de Agent e Client são criados automaticamente",
    "token_necessario": "Todas as rotas /admin requerem token de autenticação de Admin"
  },
  "expected_responses": {
    "login_sucesso": {
      "status": 200,
      "body": {
        "token": "jwt_token_aqui",
        "user": {
          "id": 1,
          "name": "Administrador",
          "email": "admin@helpdesk.com",
          "role": "Admin"
        }
      }
    },
    "usuario_agent_sucesso": {
      "status": 201,
      "body": {
        "id": 1,
        "name": "João Silva",
        "email": "joao.silva@exemplo.com",
        "phone": "(11) 99999-9999",
        "role": "Agent",
        "created_at": "2024-01-01T00:00:00.000Z"
      },
      "nota": "Perfil de agente criado automaticamente com employee_id: EMP001"
    },
    "usuario_client_sucesso": {
      "status": 201,
      "body": {
        "id": 2,
        "name": "Pedro Oliveira",
        "email": "pedro.oliveira@exemplo.com",
        "phone": "(11) 66666-6666",
        "role": "Client",
        "created_at": "2024-01-01T00:00:00.000Z"
      },
      "nota": "Perfil de cliente criado automaticamente com client_type: Individual"
    },
    "erro_nao_autorizado": {
      "status": 401,
      "body": {
        "message": "Unauthorized"
      }
    },
    "erro_proibido": {
      "status": 403,
      "body": {
        "message": "Forbidden - Admin role required"
      }
    }
  }
} 